set timeout=5
set default=0

# Set video mode for better hardware compatibility
set gfxmode=1024x768
set gfxpayload=keep

menuentry "NobleLinux" {
    linux /boot/vmlinuz root=/dev/ram0 console=tty0 console=ttyS0 video=1024x768-32 vga=791 rdinit=/init
    initrd /boot/initramfs.cpio
}

# Fallback entry with basic VGA mode
menuentry "NobleLinux (Safe Mode)" {
    linux /boot/vmlinuz root=/dev/ram0 console=tty0 console=ttyS0 vga=normal nomodeset rdinit=/init
    initrd /boot/initramfs.cpio
}

# Try different root locations
menuentry "NobleLinux (root=/dev/ram)" {
    linux /boot/vmlinuz root=/dev/ram console=tty0 console=ttyS0 vga=normal nomodeset rdinit=/init
    initrd /boot/initramfs.cpio
}

menuentry "NobleLinux (Debug)" {
    linux /boot/vmlinuz root=/dev/ram0 console=tty0 console=ttyS0 vga=normal nomodeset init=/bin/init debug loglevel=7 initcall_debug
    initrd /boot/initramfs.cpio
}

# Additional resolution options
menuentry "NobleLinux (1280x720)" {
    linux /boot/vmlinuz root=/dev/ram0 console=tty0 console=ttyS0 video=1280x720-32
    initrd /boot/initramfs.cpio
}

menuentry "NobleLinux (1920x1080)" {
    linux /boot/vmlinuz root=/dev/ram0 console=tty0 console=ttyS0 video=1920x1080-32
    initrd /boot/initramfs.cpio
}
